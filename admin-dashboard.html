<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sales Dashboard</title>
    <link rel="stylesheet" href="css/admin-dashboard.css">
</head>
<body>
    <div class="toast-container" id="toast-container"></div>
    <div class="menu-container"></div>
    <button class="logout-btn" onclick="logout()">Logout</button>

    <div class="container">
        <h1>Sales Dashboard</h1>
        <div class="filters">
            <select id="month-filter" onchange="fetchDashboardData()">
                <option value="">All Months</option>
                <option value="1">January</option>
                <option value="2">February</option>
                <option value="3">March</option>
                <option value="4">April</option>
                <option value="5">May</option>
                <option value="6">June</option>
                <option value="7">July</option>
                <option value="8">August</option>
                <option value="9">September</option>
                <option value="10">October</option>
                <option value="11">November</option>
                <option value="12">December</option>
            </select>
            <select id="year-filter" onchange="fetchDashboardData()">
                <option value="">All Years</option>
            </select>
        </div>
        <div class="overview">
            <div class="card">
                <h3>Cash Received</h3>
                <p id="cash-received">₱ 0.00</p>
            </div>
            <div class="card">
                <h3>Total Revenue</h3>
                <p id="total-revenue">₱ 0.00</p>
            </div>
            <div class="card">
                <h3>Year to Date Sales</h3>
                <p id="ytd-sales">₱ 0.00</p>
            </div>
            <div class="card">
                <h3>Total Sales This Month</h3>
                <p id="month-sales">₱ 0.00</p>
            </div>
            <div class="card">
                <h3>Total Expenses</h3>
                <p id="total-expenses">₱ 0.00</p>
            </div>
            <div class="card">
                <h3>Distributors Share</h3>
                <p id="distributors-share">₱ 0.00</p>
            </div>
            <div class="card">
                <h3>Investors Share</h3>
                <p id="investors-share">₱ 0.00</p>
            </div>
            <div class="card">
                <h3>Net Profit</h3>
                <p id="net-profit">₱ 0.00</p>
            </div>
            <div class="card">
                <h3>Pending Payments</h3>
                <p id="pending-payments">₱ 0.00</p>
            </div>
            <div class="card">
                <h3>Active Vendors</h3>
                <p id="active-vendors">0</p>
            </div>
        </div>
        <div class="chart-section">
            <h2>Expenses by Category</h2>
            <canvas id="expenses-chart" width="400" height="400"></canvas>
        </div>
        <div class="chart-section">
            <h2>Monthly Trends</h2>
            <canvas id="trends-chart" width="700" height="400"></canvas>
        </div>
    </div>

    <footer class="footer">
        <p>© 2025 EandA Distribution. All rights reserved.</p>
    </footer>

    <script defer src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script defer src="js/common.js"></script>
    <script defer src="js/admin-dashboard.js"></script>
</body>
</html>
